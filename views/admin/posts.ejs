<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Posts List</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css" />
  <!-- Theme style -->
  <link rel="stylesheet" href="/css/adminlte.min.css" />

  <link for="stylesheet" href="/css/adminlte.css">
</head>

<body class="hold-transition sidebar-mini layout-fixed">
  <div class="wrapper">
    <!-- Preloader -->


    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->

      <!-- Sidebar -->
      <%- include("../includes/sidebar_admin.ejs") %>
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
          <!-- Content Header (Page header) -->
          <section class="content-header">
            <div class="container-fluid">

            </div>
            <!-- /.container-fluid -->
          </section>

          <!--Here the posts table comes-->

          <div class="content">
            <div class="pb-4" style="margin-left: 5rem;">
              <a href="/admin/createpost" style="display: inline-block;
              padding: 10px 20px;
              background-color: #4CAF50; /* Green */
              color: white;
              text-align: center;
              text-decoration: none;
              font-size: 16px;
              border: none;
              border-radius: 5px;
              transition: background-color 0.3s ease;"> Create Post</a>
            </div>

            <div class="container">
              <div class="table-responsive custom-table-responsive">
                <% if(postList.length> 0) { %>
                  <table class="table custom-table">
                    <thead>
                      <tr>
                        <th scope="col">Id</th>
                        <th scope="col" style="text-align: center;">Post Title</th>
                        <th scope="col" style="text-align: center;">ImageUrl</th>
                        <th scope="col" style="text-align: center;">Description</th>
                        <th scope="col" style="text-align: center;">Date</th>
                        <th scope="col">Different Operations </th>
                      </tr>
                    </thead>
                    <tbody>
                      <% postList.forEach(post=> {%>
                        <tr scope="row">
                          <td style="
               max-width: 100px;
               overflow: hidden;
               text-overflow: ellipsis;
               white-space: nowrap;
            ">
                            <%=post._id %>
                          </td>
                          <td style="
               max-width: 100px;
               overflow: hidden;
               text-overflow: ellipsis;
               white-space: nowrap;
            "><a href="singlepost/<%= post._id %>">
                              <%= post.title %>
                            </a></td>
                          <td style="
               max-width: 100px;
               overflow: hidden;
               text-overflow: ellipsis;
               white-space: nowrap;
            ">
                            <%= post.imageUrl%>
                          </td>
                          <td style="
               max-width: 100px;
               overflow: hidden;
               text-overflow: ellipsis;
               white-space: nowrap;
            ">
                            <%= post.description%>
                          </td>
                          <td style="text-align: center;">
                            <%=new Date(post.createdAt).toLocaleDateString()%>
                          </td>
                          <td>
                            <!-- view -->
                            <a href="singlepost/<%= post._id %>" class="btn btn-sm btn-primary m-1">
                              <i class="fa fa-eye"></i>
                            </a>
                            <!-- edit -->
                            <a href="/admin/editpost/<%= post._id %>?edit=true" class="btn btn-sm btn-info m-1">
                              <i class="fa fa-edit"></i>
                            </a>
                            <!--delete-->
                            <a href="/admin/delete-post/<%= post._id %>" class="btn btn-sm bm btn-danger m-1">
                              <i class="fa fa-trash"></i>
                            </a>
                          </td>
                          <% }) %>
                            <% } else { %>
                              <div>
                                <h1 style="font-size: 80px; font-weight: bold; color:black; padding-top: 5rem;">No Posts
                                  yet)</h1>
                              </div>
                              <% } %>
                    </tbody>
                  </table>
              </div>
            </div>




            <div>

              <!-- Control Sidebar -->
              <aside class="control-sidebar control-sidebar-dark">
                <!-- Control sidebar content goes here -->
              </aside>
              <!-- /.control-sidebar -->
            </div>
            <!-- ./wrapper -->

            <!-- jQuery -->
            <script src="/plugins/jquery/jquery.min.js"></script>
            <!-- Bootstrap 4 -->
            <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
            <!-- bs-custom-file-input -->
            <script src="/plugins/bs-custom-file-input/bs-custom-file-input.min.js"></script>
            <!-- AdminLTE App -->
            <script src="/js/adminlte.min.js"></script>
            <!-- AdminLTE for demo purposes -->
            <script src="/js/demo.js"></script>
            <!-- Page specific script -->
            <script>
              $(function () {
                bsCustomFileInput.init();
              });
            </script>
</body>

</html>